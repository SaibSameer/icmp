{"ast":null,"code":"var _jsxFileName = \"C:\\\\icmp_events_api\\\\front-end\\\\src\\\\components\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { TextField, Button, Typography, Card, CardContent, Box, CircularProgress } from '@mui/material';\nimport { useNavigate } from 'react-router-dom';\nimport { login } from '../services/authService';\nimport { API_CONFIG } from '../config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login({\n  setIsAuthenticated,\n  handleSnackbarOpen,\n  setUserId: setParentUserId,\n  setBusinessId: setParentBusinessId,\n  setBusinessApiKey: setParentBusinessApiKey\n}) {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const [userId, setUserId] = useState('');\n  const [businessId, setBusinessId] = useState(API_CONFIG.DEFAULTS.BUSINESS_ID);\n  const [businessApiKey, setBusinessApiKey] = useState(API_CONFIG.DEFAULTS.API_KEY);\n  const navigate = useNavigate();\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setIsLoading(true);\n    try {\n      // Validate and save credentials using the authService\n      const data = await login(userId, businessId, businessApiKey);\n      if (data.success) {\n        // Update parent state\n        setParentUserId(userId.trim());\n        setParentBusinessId(businessId.trim());\n        setParentBusinessApiKey(businessApiKey.trim());\n\n        // Set authentication state\n        setIsAuthenticated(true);\n\n        // Show success message and redirect\n        handleSnackbarOpen(data.message || 'Login successful', 'success');\n        navigate('/business');\n      } else {\n        // Show error message\n        handleSnackbarOpen(data.message || 'Login failed', 'error');\n        setIsAuthenticated(false);\n      }\n    } catch (error) {\n      console.error('Login error:', error);\n      handleSnackbarOpen(error.message || 'Login failed', 'error');\n      setIsAuthenticated(false);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Card, {\n    sx: {\n      mt: 4,\n      maxWidth: 400,\n      mx: 'auto'\n    },\n    children: /*#__PURE__*/_jsxDEV(CardContent, {\n      children: [/*#__PURE__*/_jsxDEV(Typography, {\n        variant: \"h5\",\n        gutterBottom: true,\n        align: \"center\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Box, {\n        component: \"form\",\n        onSubmit: handleSubmit,\n        sx: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 2,\n          mt: 2\n        },\n        children: [/*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Business ID\",\n          variant: \"outlined\",\n          value: businessId,\n          onChange: e => setBusinessId(e.target.value),\n          disabled: isLoading,\n          required: true,\n          error: !businessId,\n          helperText: !businessId ? \"Business ID is required\" : \"\",\n          fullWidth: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"Business API Key\",\n          variant: \"outlined\",\n          value: businessApiKey,\n          onChange: e => setBusinessApiKey(e.target.value),\n          disabled: isLoading,\n          type: \"password\",\n          required: true,\n          error: !businessApiKey,\n          helperText: !businessApiKey ? \"Business API Key is required\" : \"\",\n          fullWidth: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          label: \"User ID\",\n          variant: \"outlined\",\n          value: userId,\n          onChange: e => setUserId(e.target.value),\n          disabled: isLoading,\n          required: true,\n          error: !userId,\n          helperText: !userId ? \"User ID is required\" : \"\",\n          fullWidth: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          variant: \"contained\",\n          disabled: isLoading || !userId || !businessId || !businessApiKey,\n          fullWidth: true,\n          children: isLoading ? /*#__PURE__*/_jsxDEV(CircularProgress, {\n            size: 24\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 38\n          }, this) : 'Login'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n}\n_s(Login, \"FXWjV3JE2y4w3YxGleTd/YTwS0s=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","TextField","Button","Typography","Card","CardContent","Box","CircularProgress","useNavigate","login","API_CONFIG","jsxDEV","_jsxDEV","Login","setIsAuthenticated","handleSnackbarOpen","setUserId","setParentUserId","setBusinessId","setParentBusinessId","setBusinessApiKey","setParentBusinessApiKey","_s","isLoading","setIsLoading","userId","businessId","DEFAULTS","BUSINESS_ID","businessApiKey","API_KEY","navigate","handleSubmit","event","preventDefault","data","success","trim","message","error","console","sx","mt","maxWidth","mx","children","variant","gutterBottom","align","fileName","_jsxFileName","lineNumber","columnNumber","component","onSubmit","display","flexDirection","gap","label","value","onChange","e","target","disabled","required","helperText","fullWidth","type","size","_c","$RefreshReg$"],"sources":["C:/icmp_events_api/front-end/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { TextField, Button, Typography, Card, CardContent, Box, CircularProgress } from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { login } from '../services/authService';\r\nimport { API_CONFIG } from '../config';\r\n\r\nfunction Login({ \r\n    setIsAuthenticated, \r\n    handleSnackbarOpen,\r\n    setUserId: setParentUserId,\r\n    setBusinessId: setParentBusinessId,\r\n    setBusinessApiKey: setParentBusinessApiKey\r\n}) {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [userId, setUserId] = useState('');\r\n    const [businessId, setBusinessId] = useState(API_CONFIG.DEFAULTS.BUSINESS_ID);\r\n    const [businessApiKey, setBusinessApiKey] = useState(API_CONFIG.DEFAULTS.API_KEY);\r\n    const navigate = useNavigate();\r\n\r\n    const handleSubmit = async (event) => {\r\n        event.preventDefault();\r\n        setIsLoading(true);\r\n\r\n        try {\r\n            // Validate and save credentials using the authService\r\n            const data = await login(userId, businessId, businessApiKey);\r\n\r\n            if (data.success) {\r\n                // Update parent state\r\n                setParentUserId(userId.trim());\r\n                setParentBusinessId(businessId.trim());\r\n                setParentBusinessApiKey(businessApiKey.trim());\r\n\r\n                // Set authentication state\r\n                setIsAuthenticated(true);\r\n                \r\n                // Show success message and redirect\r\n                handleSnackbarOpen(data.message || 'Login successful', 'success');\r\n                navigate('/business');\r\n            } else {\r\n                // Show error message\r\n                handleSnackbarOpen(data.message || 'Login failed', 'error');\r\n                setIsAuthenticated(false);\r\n            }\r\n        } catch (error) {\r\n            console.error('Login error:', error);\r\n            handleSnackbarOpen(error.message || 'Login failed', 'error');\r\n            setIsAuthenticated(false);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Card sx={{ mt: 4, maxWidth: 400, mx: 'auto' }}>\r\n            <CardContent>\r\n                <Typography variant=\"h5\" gutterBottom align=\"center\">\r\n                    Login\r\n                </Typography>\r\n                <Box component=\"form\" onSubmit={handleSubmit} sx={{ display: 'flex', flexDirection: 'column', gap: 2, mt: 2 }}>\r\n                    <TextField\r\n                        label=\"Business ID\" \r\n                        variant=\"outlined\" \r\n                        value={businessId}\r\n                        onChange={(e) => setBusinessId(e.target.value)}\r\n                        disabled={isLoading}\r\n                        required\r\n                        error={!businessId}\r\n                        helperText={!businessId ? \"Business ID is required\" : \"\"}\r\n                        fullWidth\r\n                    />\r\n                    <TextField\r\n                        label=\"Business API Key\"\r\n                        variant=\"outlined\"\r\n                        value={businessApiKey}\r\n                        onChange={(e) => setBusinessApiKey(e.target.value)}\r\n                        disabled={isLoading}\r\n                        type=\"password\"\r\n                        required\r\n                        error={!businessApiKey}\r\n                        helperText={!businessApiKey ? \"Business API Key is required\" : \"\"}\r\n                        fullWidth\r\n                    />\r\n                    <TextField \r\n                        label=\"User ID\" \r\n                        variant=\"outlined\" \r\n                        value={userId}\r\n                        onChange={(e) => setUserId(e.target.value)}\r\n                        disabled={isLoading}\r\n                        required\r\n                        error={!userId}\r\n                        helperText={!userId ? \"User ID is required\" : \"\"}\r\n                        fullWidth\r\n                    />\r\n\r\n                    <Button \r\n                        type=\"submit\"\r\n                        variant=\"contained\" \r\n                        disabled={isLoading || !userId || !businessId || !businessApiKey}\r\n                        fullWidth\r\n                    >\r\n                        {isLoading ? <CircularProgress size={24} /> : 'Login'}\r\n                    </Button>\r\n                </Box>\r\n            </CardContent>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default Login; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,SAAS,EAAEC,MAAM,EAAEC,UAAU,EAAEC,IAAI,EAAEC,WAAW,EAAEC,GAAG,EAAEC,gBAAgB,QAAQ,eAAe;AACvG,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,KAAK,QAAQ,yBAAyB;AAC/C,SAASC,UAAU,QAAQ,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,SAASC,KAAKA,CAAC;EACXC,kBAAkB;EAClBC,kBAAkB;EAClBC,SAAS,EAAEC,eAAe;EAC1BC,aAAa,EAAEC,mBAAmB;EAClCC,iBAAiB,EAAEC;AACvB,CAAC,EAAE;EAAAC,EAAA;EACC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGxB,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACyB,MAAM,EAAET,SAAS,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAAC0B,UAAU,EAAER,aAAa,CAAC,GAAGlB,QAAQ,CAACU,UAAU,CAACiB,QAAQ,CAACC,WAAW,CAAC;EAC7E,MAAM,CAACC,cAAc,EAAET,iBAAiB,CAAC,GAAGpB,QAAQ,CAACU,UAAU,CAACiB,QAAQ,CAACG,OAAO,CAAC;EACjF,MAAMC,QAAQ,GAAGvB,WAAW,CAAC,CAAC;EAE9B,MAAMwB,YAAY,GAAG,MAAOC,KAAK,IAAK;IAClCA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtBV,YAAY,CAAC,IAAI,CAAC;IAElB,IAAI;MACA;MACA,MAAMW,IAAI,GAAG,MAAM1B,KAAK,CAACgB,MAAM,EAAEC,UAAU,EAAEG,cAAc,CAAC;MAE5D,IAAIM,IAAI,CAACC,OAAO,EAAE;QACd;QACAnB,eAAe,CAACQ,MAAM,CAACY,IAAI,CAAC,CAAC,CAAC;QAC9BlB,mBAAmB,CAACO,UAAU,CAACW,IAAI,CAAC,CAAC,CAAC;QACtChB,uBAAuB,CAACQ,cAAc,CAACQ,IAAI,CAAC,CAAC,CAAC;;QAE9C;QACAvB,kBAAkB,CAAC,IAAI,CAAC;;QAExB;QACAC,kBAAkB,CAACoB,IAAI,CAACG,OAAO,IAAI,kBAAkB,EAAE,SAAS,CAAC;QACjEP,QAAQ,CAAC,WAAW,CAAC;MACzB,CAAC,MAAM;QACH;QACAhB,kBAAkB,CAACoB,IAAI,CAACG,OAAO,IAAI,cAAc,EAAE,OAAO,CAAC;QAC3DxB,kBAAkB,CAAC,KAAK,CAAC;MAC7B;IACJ,CAAC,CAAC,OAAOyB,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,cAAc,EAAEA,KAAK,CAAC;MACpCxB,kBAAkB,CAACwB,KAAK,CAACD,OAAO,IAAI,cAAc,EAAE,OAAO,CAAC;MAC5DxB,kBAAkB,CAAC,KAAK,CAAC;IAC7B,CAAC,SAAS;MACNU,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ,CAAC;EAED,oBACIZ,OAAA,CAACR,IAAI;IAACqC,EAAE,EAAE;MAAEC,EAAE,EAAE,CAAC;MAAEC,QAAQ,EAAE,GAAG;MAAEC,EAAE,EAAE;IAAO,CAAE;IAAAC,QAAA,eAC3CjC,OAAA,CAACP,WAAW;MAAAwC,QAAA,gBACRjC,OAAA,CAACT,UAAU;QAAC2C,OAAO,EAAC,IAAI;QAACC,YAAY;QAACC,KAAK,EAAC,QAAQ;QAAAH,QAAA,EAAC;MAErD;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAY,CAAC,eACbxC,OAAA,CAACN,GAAG;QAAC+C,SAAS,EAAC,MAAM;QAACC,QAAQ,EAAEtB,YAAa;QAACS,EAAE,EAAE;UAAEc,OAAO,EAAE,MAAM;UAAEC,aAAa,EAAE,QAAQ;UAAEC,GAAG,EAAE,CAAC;UAAEf,EAAE,EAAE;QAAE,CAAE;QAAAG,QAAA,gBAC1GjC,OAAA,CAACX,SAAS;UACNyD,KAAK,EAAC,aAAa;UACnBZ,OAAO,EAAC,UAAU;UAClBa,KAAK,EAAEjC,UAAW;UAClBkC,QAAQ,EAAGC,CAAC,IAAK3C,aAAa,CAAC2C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UAC/CI,QAAQ,EAAExC,SAAU;UACpByC,QAAQ;UACRzB,KAAK,EAAE,CAACb,UAAW;UACnBuC,UAAU,EAAE,CAACvC,UAAU,GAAG,yBAAyB,GAAG,EAAG;UACzDwC,SAAS;QAAA;UAAAjB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ,CAAC,eACFxC,OAAA,CAACX,SAAS;UACNyD,KAAK,EAAC,kBAAkB;UACxBZ,OAAO,EAAC,UAAU;UAClBa,KAAK,EAAE9B,cAAe;UACtB+B,QAAQ,EAAGC,CAAC,IAAKzC,iBAAiB,CAACyC,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UACnDI,QAAQ,EAAExC,SAAU;UACpB4C,IAAI,EAAC,UAAU;UACfH,QAAQ;UACRzB,KAAK,EAAE,CAACV,cAAe;UACvBoC,UAAU,EAAE,CAACpC,cAAc,GAAG,8BAA8B,GAAG,EAAG;UAClEqC,SAAS;QAAA;UAAAjB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ,CAAC,eACFxC,OAAA,CAACX,SAAS;UACNyD,KAAK,EAAC,SAAS;UACfZ,OAAO,EAAC,UAAU;UAClBa,KAAK,EAAElC,MAAO;UACdmC,QAAQ,EAAGC,CAAC,IAAK7C,SAAS,CAAC6C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;UAC3CI,QAAQ,EAAExC,SAAU;UACpByC,QAAQ;UACRzB,KAAK,EAAE,CAACd,MAAO;UACfwC,UAAU,EAAE,CAACxC,MAAM,GAAG,qBAAqB,GAAG,EAAG;UACjDyC,SAAS;QAAA;UAAAjB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ,CAAC,eAEFxC,OAAA,CAACV,MAAM;UACHiE,IAAI,EAAC,QAAQ;UACbrB,OAAO,EAAC,WAAW;UACnBiB,QAAQ,EAAExC,SAAS,IAAI,CAACE,MAAM,IAAI,CAACC,UAAU,IAAI,CAACG,cAAe;UACjEqC,SAAS;UAAArB,QAAA,EAERtB,SAAS,gBAAGX,OAAA,CAACL,gBAAgB;YAAC6D,IAAI,EAAE;UAAG;YAAAnB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,GAAG;QAAO;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACG;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACZ,CAAC;AAEf;AAAC9B,EAAA,CArGQT,KAAK;EAAA,QAWOL,WAAW;AAAA;AAAA6D,EAAA,GAXvBxD,KAAK;AAuGd,eAAeA,KAAK;AAAC,IAAAwD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}