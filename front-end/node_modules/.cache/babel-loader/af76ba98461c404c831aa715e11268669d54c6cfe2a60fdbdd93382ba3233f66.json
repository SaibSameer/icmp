{"ast":null,"code":"var _jsxFileName = \"C:\\\\icmp_events_api\\\\front-end\\\\src\\\\components\\\\BusinessDetailsView\\\\BusinessDetailsView.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport AgentSection from '../AgentSection';\nimport { Snackbar, Alert, Box, IconButton, Typography, Container, Paper } from '@mui/material';\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\n\n// Define your backend API base URL\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE_URL = 'http://localhost:5000';\nfunction BusinessDetailsView() {\n  _s();\n  const navigate = useNavigate();\n  const [businessData, setBusinessData] = useState(null);\n  const [editFormData, setEditFormData] = useState({}); // State for form data\n  const [agents, setAgents] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [snackbar, setSnackbar] = useState({\n    open: false,\n    message: '',\n    severity: 'success'\n  });\n\n  // Get the business ID from localStorage instead of hardcoding\n  const businessId = localStorage.getItem('businessId');\n  const handleSnackbarOpen = (message, severity = 'success') => {\n    setSnackbar({\n      open: true,\n      message,\n      severity\n    });\n  };\n  const handleSnackbarClose = () => {\n    setSnackbar({\n      ...snackbar,\n      open: false\n    });\n  };\n  const handleNavigateToLogin = () => {\n    navigate('/login');\n  };\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!businessId || businessId === 'YOUR_BUSINESS_ID_HERE') {\n        setError(\"Business ID not available.\");\n        setIsLoading(false);\n        return;\n      }\n      setIsLoading(true);\n      setError(null); // Clear previous errors\n      console.log(`Fetching data for business ID: ${businessId}`);\n      try {\n        // --- Fetch Business Details ---\n        const businessResponse = await fetch(`${API_BASE_URL}/businesses/${businessId}`, {\n          method: 'GET',\n          credentials: 'include',\n          // Important to send cookies\n          headers: {\n            'Accept': 'application/json'\n            // Authorization header might be needed if not using cookies, e.g.:\n            // 'Authorization': `Bearer ${your_business_api_key}`\n          }\n        });\n        if (!businessResponse.ok) {\n          const errorData = await businessResponse.json().catch(() => ({})); // Try to get error details\n          throw new Error(`HTTP error ${businessResponse.status}: ${errorData.message || 'Failed to fetch business details'}`);\n        }\n        const fetchedBusinessData = await businessResponse.json();\n        console.log(\"Fetched Business Data:\", fetchedBusinessData);\n        setBusinessData(fetchedBusinessData);\n        setEditFormData({\n          // Initialize form data when data is fetched\n          business_name: fetchedBusinessData.business_name || '',\n          business_description: fetchedBusinessData.business_description || '',\n          address: fetchedBusinessData.address || '',\n          phone_number: fetchedBusinessData.phone_number || '',\n          website: fetchedBusinessData.website || ''\n        });\n\n        // --- Fetch Agents ---\n        const agentsResponse = await fetch(`${API_BASE_URL}/agents?business_id=${businessId}`, {\n          method: 'GET',\n          credentials: 'include',\n          // Important to send cookies\n          headers: {\n            'Accept': 'application/json'\n          }\n        });\n        if (!agentsResponse.ok) {\n          const errorData = await agentsResponse.json().catch(() => ({}));\n          // Don't throw, maybe just log? Or set a separate error state?\n          console.error(`HTTP error ${agentsResponse.status}: ${errorData.message || 'Failed to fetch agents'}`);\n          setError(prev => prev ? `${prev} | Failed to fetch agents.` : \"Failed to fetch agents.\"); // Append or set error\n          setAgents([]); // Ensure agents list is empty on error\n        } else {\n          const fetchedAgents = await agentsResponse.json();\n          console.log(\"Fetched Agents:\", fetchedAgents);\n          setAgents(fetchedAgents);\n        }\n      } catch (err) {\n        console.error(\"Error fetching data:\", err);\n        setError(err.message || \"An unexpected error occurred while fetching data.\");\n        setBusinessData(null); // Clear data on error\n        setAgents([]);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    fetchData();\n  }, [businessId]); // Re-fetch if businessId changes\n\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setEditFormData(prevData => ({\n      ...prevData,\n      [name]: value\n    }));\n  };\n  const handleEditToggle = () => {\n    if (!isEditing && businessData) {\n      // Reset form data to current business data when entering edit mode\n      setEditFormData({\n        business_name: businessData.business_name || '',\n        business_description: businessData.business_description || '',\n        address: businessData.address || '',\n        phone_number: businessData.phone_number || '',\n        website: businessData.website || ''\n      });\n    }\n    setIsEditing(!isEditing);\n    setError(null); // Clear errors when toggling mode\n  };\n  const handleSaveChanges = async e => {\n    e.preventDefault(); // Prevent default form submission\n    setIsLoading(true); // Indicate saving process\n    setError(null);\n    console.log(\"Saving changes:\", editFormData);\n    try {\n      const response = await fetch(`${API_BASE_URL}/businesses/${businessId}`, {\n        method: 'PUT',\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json',\n          'Accept': 'application/json'\n        },\n        body: JSON.stringify(editFormData)\n      });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(`HTTP error ${response.status}: ${errorData.message || 'Failed to save changes'}`);\n      }\n      const result = await response.json();\n      console.log(\"Save successful:\", result);\n\n      // Optimistically update local state, or re-fetch data\n      setBusinessData(prevData => ({\n        ...prevData,\n        ...editFormData\n      }));\n      setIsEditing(false);\n    } catch (err) {\n      console.error(\"Error saving changes:\", err);\n      setError(err.message || \"An unexpected error occurred while saving.\");\n    } finally {\n      setIsLoading(false); // Finish loading indicator\n    }\n  };\n  if (isLoading && !businessData) {\n    // Show initial loading\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading business details...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Show error prominently if one occurred\n  if (error && !isEditing) {\n    // Don't block editing form with load errors\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red'\n      },\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 12\n    }, this);\n  }\n  if (!businessData && !isLoading) {\n    // Handle case where loading finished but no data (and no specific load error)\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"No business data found or failed to load.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 14\n    }, this);\n  }\n  // Render component content only if businessData is available\n  if (!businessData) return null; // Or a placeholder/skeleton UI\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    sx: {\n      mt: 4,\n      mb: 4\n    },\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      sx: {\n        p: 3,\n        mb: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Box, {\n        sx: {\n          display: 'flex',\n          alignItems: 'center',\n          mb: 3\n        },\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: handleNavigateToLogin,\n          sx: {\n            mr: 1\n          },\n          children: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          variant: \"h5\",\n          gutterBottom: true,\n          sx: {\n            flexGrow: 1,\n            mb: 0\n          },\n          children: \"Business Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), isEditing && error && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red',\n          marginBottom: '10px'\n        },\n        children: [\"Save Error: \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 32\n      }, this), isEditing && isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Saving...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 36\n      }, this), isEditing ?\n      /*#__PURE__*/\n      // --- Edit Mode ---\n      _jsxDEV(\"form\", {\n        onSubmit: handleSaveChanges,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"business_name\",\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"business_name\",\n            name: \"business_name\",\n            value: editFormData.business_name,\n            onChange: handleInputChange,\n            required: true // Assuming name is required\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"business_description\",\n            children: \"Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"business_description\",\n            name: \"business_description\",\n            value: editFormData.business_description,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"address\",\n            children: \"Address:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"address\",\n            name: \"address\",\n            value: editFormData.address,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"phone_number\",\n            children: \"Phone:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"tel\" // Use tel type for phone numbers\n            ,\n            id: \"phone_number\",\n            name: \"phone_number\",\n            value: editFormData.phone_number,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"website\",\n            children: \"Website:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 20\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"url\" // Use url type for websites\n            ,\n            id: \"website\",\n            name: \"website\",\n            value: editFormData.website,\n            onChange: handleInputChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 16\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: isLoading,\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleEditToggle,\n          disabled: isLoading,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 11\n      }, this) :\n      /*#__PURE__*/\n      // --- View Mode ---\n      _jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 16\n          }, this), \" \", businessData.business_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Description:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 16\n          }, this), \" \", businessData.business_description || '-']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Address:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 16\n          }, this), \" \", businessData.address || '-']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 270,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Phone:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 16\n          }, this), \" \", businessData.phone_number || '-']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Website:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 16\n          }, this), \" \", businessData.website ? /*#__PURE__*/_jsxDEV(\"a\", {\n            href: businessData.website,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            children: businessData.website\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 66\n          }, this) : '-']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Business ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 16\n          }, this), \" \", businessData.business_id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Owner ID:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 16\n          }, this), \" \", businessData.owner_id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleEditToggle,\n          children: \"Edit Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AgentSection, {\n        handleSnackbarOpen: handleSnackbarOpen,\n        onAgentSelect: agentId => console.log('Selected agent:', agentId)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n        open: snackbar.open,\n        autoHideDuration: 6000,\n        onClose: handleSnackbarClose,\n        anchorOrigin: {\n          vertical: 'top',\n          horizontal: 'right'\n        },\n        children: /*#__PURE__*/_jsxDEV(Alert, {\n          onClose: handleSnackbarClose,\n          severity: snackbar.severity,\n          sx: {\n            width: '100%'\n          },\n          children: snackbar.message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 192,\n    columnNumber: 5\n  }, this);\n}\n_s(BusinessDetailsView, \"73+JB8dlCX4HASEXUUQeVFtoYsU=\", false, function () {\n  return [useNavigate];\n});\n_c = BusinessDetailsView;\nexport default BusinessDetailsView;\nvar _c;\n$RefreshReg$(_c, \"BusinessDetailsView\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","AgentSection","Snackbar","Alert","Box","IconButton","Typography","Container","Paper","ArrowBackIcon","jsxDEV","_jsxDEV","API_BASE_URL","BusinessDetailsView","_s","navigate","businessData","setBusinessData","editFormData","setEditFormData","agents","setAgents","isLoading","setIsLoading","error","setError","isEditing","setIsEditing","snackbar","setSnackbar","open","message","severity","businessId","localStorage","getItem","handleSnackbarOpen","handleSnackbarClose","handleNavigateToLogin","fetchData","console","log","businessResponse","fetch","method","credentials","headers","ok","errorData","json","catch","Error","status","fetchedBusinessData","business_name","business_description","address","phone_number","website","agentsResponse","prev","fetchedAgents","err","handleInputChange","e","name","value","target","prevData","handleEditToggle","handleSaveChanges","preventDefault","response","body","JSON","stringify","result","children","fileName","_jsxFileName","lineNumber","columnNumber","style","color","maxWidth","sx","mt","mb","p","display","alignItems","onClick","mr","variant","gutterBottom","flexGrow","marginBottom","onSubmit","htmlFor","type","id","onChange","required","disabled","href","rel","business_id","owner_id","onAgentSelect","agentId","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","width","_c","$RefreshReg$"],"sources":["C:/icmp_events_api/front-end/src/components/BusinessDetailsView/BusinessDetailsView.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport AgentSection from '../AgentSection';\r\nimport { \r\n  Snackbar, \r\n  Alert, \r\n  Box, \r\n  IconButton, \r\n  Typography, \r\n  Container, \r\n  Paper \r\n} from '@mui/material';\r\nimport ArrowBackIcon from '@mui/icons-material/ArrowBack';\r\n\r\n// Define your backend API base URL\r\nconst API_BASE_URL = 'http://localhost:5000';\r\n\r\nfunction BusinessDetailsView() {\r\n  const navigate = useNavigate();\r\n  const [businessData, setBusinessData] = useState(null);\r\n  const [editFormData, setEditFormData] = useState({}); // State for form data\r\n  const [agents, setAgents] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: '', severity: 'success' });\r\n\r\n  // Get the business ID from localStorage instead of hardcoding\r\n  const businessId = localStorage.getItem('businessId');\r\n\r\n  const handleSnackbarOpen = (message, severity = 'success') => {\r\n    setSnackbar({ open: true, message, severity });\r\n  };\r\n\r\n  const handleSnackbarClose = () => {\r\n    setSnackbar({ ...snackbar, open: false });\r\n  };\r\n\r\n  const handleNavigateToLogin = () => {\r\n    navigate('/login');\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      if (!businessId || businessId === 'YOUR_BUSINESS_ID_HERE') {\r\n          setError(\"Business ID not available.\");\r\n          setIsLoading(false);\r\n          return;\r\n      }\r\n      setIsLoading(true);\r\n      setError(null); // Clear previous errors\r\n      console.log(`Fetching data for business ID: ${businessId}`);\r\n\r\n      try {\r\n        // --- Fetch Business Details ---\r\n        const businessResponse = await fetch(`${API_BASE_URL}/businesses/${businessId}`, {\r\n          method: 'GET',\r\n          credentials: 'include', // Important to send cookies\r\n          headers: {\r\n            'Accept': 'application/json',\r\n            // Authorization header might be needed if not using cookies, e.g.:\r\n            // 'Authorization': `Bearer ${your_business_api_key}`\r\n          },\r\n        });\r\n\r\n        if (!businessResponse.ok) {\r\n          const errorData = await businessResponse.json().catch(() => ({})); // Try to get error details\r\n          throw new Error(`HTTP error ${businessResponse.status}: ${errorData.message || 'Failed to fetch business details'}`);\r\n        }\r\n        const fetchedBusinessData = await businessResponse.json();\r\n        console.log(\"Fetched Business Data:\", fetchedBusinessData);\r\n        setBusinessData(fetchedBusinessData);\r\n        setEditFormData({ // Initialize form data when data is fetched\r\n            business_name: fetchedBusinessData.business_name || '',\r\n            business_description: fetchedBusinessData.business_description || '',\r\n            address: fetchedBusinessData.address || '',\r\n            phone_number: fetchedBusinessData.phone_number || '',\r\n            website: fetchedBusinessData.website || ''\r\n        });\r\n\r\n        // --- Fetch Agents ---\r\n        const agentsResponse = await fetch(`${API_BASE_URL}/agents?business_id=${businessId}`, {\r\n           method: 'GET',\r\n           credentials: 'include', // Important to send cookies\r\n           headers: {\r\n             'Accept': 'application/json',\r\n           },\r\n        });\r\n\r\n        if (!agentsResponse.ok) {\r\n           const errorData = await agentsResponse.json().catch(() => ({}));\r\n           // Don't throw, maybe just log? Or set a separate error state?\r\n           console.error(`HTTP error ${agentsResponse.status}: ${errorData.message || 'Failed to fetch agents'}`);\r\n           setError(prev => prev ? `${prev} | Failed to fetch agents.` : \"Failed to fetch agents.\"); // Append or set error\r\n           setAgents([]); // Ensure agents list is empty on error\r\n        } else {\r\n            const fetchedAgents = await agentsResponse.json();\r\n            console.log(\"Fetched Agents:\", fetchedAgents);\r\n            setAgents(fetchedAgents);\r\n        }\r\n\r\n      } catch (err) {\r\n        console.error(\"Error fetching data:\", err);\r\n        setError(err.message || \"An unexpected error occurred while fetching data.\");\r\n        setBusinessData(null); // Clear data on error\r\n        setAgents([]);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n\r\n  }, [businessId]); // Re-fetch if businessId changes\r\n\r\n  const handleInputChange = (e) => {\r\n      const { name, value } = e.target;\r\n      setEditFormData(prevData => ({\r\n          ...prevData,\r\n          [name]: value\r\n      }));\r\n  };\r\n\r\n  const handleEditToggle = () => {\r\n      if (!isEditing && businessData) {\r\n          // Reset form data to current business data when entering edit mode\r\n          setEditFormData({\r\n              business_name: businessData.business_name || '',\r\n              business_description: businessData.business_description || '',\r\n              address: businessData.address || '',\r\n              phone_number: businessData.phone_number || '',\r\n              website: businessData.website || ''\r\n          });\r\n      }\r\n      setIsEditing(!isEditing);\r\n      setError(null); // Clear errors when toggling mode\r\n  };\r\n\r\n  const handleSaveChanges = async (e) => {\r\n      e.preventDefault(); // Prevent default form submission\r\n      setIsLoading(true); // Indicate saving process\r\n      setError(null);\r\n      console.log(\"Saving changes:\", editFormData);\r\n\r\n      try {\r\n           const response = await fetch(`${API_BASE_URL}/businesses/${businessId}`, {\r\n               method: 'PUT',\r\n               credentials: 'include',\r\n               headers: {\r\n                   'Content-Type': 'application/json',\r\n                   'Accept': 'application/json',\r\n               },\r\n               body: JSON.stringify(editFormData)\r\n           });\r\n\r\n           if (!response.ok) {\r\n                const errorData = await response.json().catch(() => ({}));\r\n                throw new Error(`HTTP error ${response.status}: ${errorData.message || 'Failed to save changes'}`);\r\n           }\r\n\r\n           const result = await response.json();\r\n           console.log(\"Save successful:\", result);\r\n\r\n           // Optimistically update local state, or re-fetch data\r\n           setBusinessData(prevData => ({ ...prevData, ...editFormData }));\r\n           setIsEditing(false);\r\n\r\n      } catch (err) {\r\n          console.error(\"Error saving changes:\", err);\r\n          setError(err.message || \"An unexpected error occurred while saving.\");\r\n      } finally {\r\n          setIsLoading(false); // Finish loading indicator\r\n      }\r\n  };\r\n\r\n  if (isLoading && !businessData) { // Show initial loading\r\n    return <div>Loading business details...</div>;\r\n  }\r\n\r\n  // Show error prominently if one occurred\r\n  if (error && !isEditing) { // Don't block editing form with load errors\r\n    return <div style={{ color: 'red' }}>Error: {error}</div>;\r\n  }\r\n\r\n  if (!businessData && !isLoading) { // Handle case where loading finished but no data (and no specific load error)\r\n      return <div>No business data found or failed to load.</div>;\r\n  }\r\n  // Render component content only if businessData is available\r\n  if (!businessData) return null; // Or a placeholder/skeleton UI\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n      <Paper sx={{ p: 3, mb: 4 }}>\r\n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>\r\n          <IconButton onClick={handleNavigateToLogin} sx={{ mr: 1 }}>\r\n            <ArrowBackIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h5\" gutterBottom sx={{ flexGrow: 1, mb: 0 }}>\r\n            Business Details\r\n          </Typography>\r\n        </Box>\r\n        \r\n        {/* Display save errors specifically above the form */}\r\n        {isEditing && error && <div style={{ color: 'red', marginBottom: '10px' }}>Save Error: {error}</div>}\r\n        {/* Indicate loading state during save */}\r\n        {isEditing && isLoading && <div>Saving...</div>}\r\n\r\n        {isEditing ? (\r\n          // --- Edit Mode ---\r\n          <form onSubmit={handleSaveChanges}>\r\n              <div>\r\n                  <label htmlFor=\"business_name\">Name:</label>\r\n                  <input\r\n                      type=\"text\"\r\n                      id=\"business_name\"\r\n                      name=\"business_name\"\r\n                      value={editFormData.business_name}\r\n                      onChange={handleInputChange}\r\n                      required // Assuming name is required\r\n                  />\r\n              </div>\r\n              <div>\r\n                   <label htmlFor=\"business_description\">Description:</label>\r\n                  <textarea\r\n                      id=\"business_description\"\r\n                      name=\"business_description\"\r\n                      value={editFormData.business_description}\r\n                      onChange={handleInputChange}\r\n                  />\r\n              </div>\r\n               <div>\r\n                   <label htmlFor=\"address\">Address:</label>\r\n                  <input\r\n                      type=\"text\"\r\n                      id=\"address\"\r\n                      name=\"address\"\r\n                      value={editFormData.address}\r\n                      onChange={handleInputChange}\r\n                  />\r\n              </div>\r\n               <div>\r\n                   <label htmlFor=\"phone_number\">Phone:</label>\r\n                  <input\r\n                      type=\"tel\" // Use tel type for phone numbers\r\n                      id=\"phone_number\"\r\n                      name=\"phone_number\"\r\n                      value={editFormData.phone_number}\r\n                      onChange={handleInputChange}\r\n                  />\r\n              </div>\r\n               <div>\r\n                   <label htmlFor=\"website\">Website:</label>\r\n                  <input\r\n                      type=\"url\" // Use url type for websites\r\n                      id=\"website\"\r\n                      name=\"website\"\r\n                      value={editFormData.website}\r\n                      onChange={handleInputChange}\r\n                  />\r\n              </div>\r\n              {/* Add inputs for address, phone, website */}\r\n              <button type=\"submit\" disabled={isLoading}>Save Changes</button>\r\n              <button type=\"button\" onClick={handleEditToggle} disabled={isLoading}>Cancel</button>\r\n          </form>\r\n        ) : (\r\n          // --- View Mode ---\r\n          <div>\r\n            <p><strong>Name:</strong> {businessData.business_name}</p>\r\n            <p><strong>Description:</strong> {businessData.business_description || '-'}</p>\r\n            <p><strong>Address:</strong> {businessData.address || '-'}</p>\r\n            <p><strong>Phone:</strong> {businessData.phone_number || '-'}</p>\r\n            <p><strong>Website:</strong> {businessData.website ? <a href={businessData.website} target=\"_blank\" rel=\"noopener noreferrer\">{businessData.website}</a> : '-'}</p>\r\n            <hr/>\r\n            <p><strong>Business ID:</strong> {businessData.business_id}</p>\r\n            <p><strong>Owner ID:</strong> {businessData.owner_id}</p>\r\n            <button onClick={handleEditToggle}>Edit Details</button>\r\n          </div>\r\n        )}\r\n\r\n        <hr />\r\n\r\n        {/* Replace the old agent list with our AgentSection component */}\r\n        <AgentSection \r\n          handleSnackbarOpen={handleSnackbarOpen} \r\n          onAgentSelect={(agentId) => console.log('Selected agent:', agentId)}\r\n        />\r\n        \r\n        {/* Snackbar for notifications */}\r\n        <Snackbar \r\n          open={snackbar.open}\r\n          autoHideDuration={6000}\r\n          onClose={handleSnackbarClose}\r\n          anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n        >\r\n          <Alert onClose={handleSnackbarClose} severity={snackbar.severity} sx={{ width: '100%' }}>\r\n            {snackbar.message}\r\n          </Alert>\r\n        </Snackbar>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default BusinessDetailsView;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}